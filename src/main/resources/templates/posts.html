<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body class="bg-info">
    <nav class="border border-success rounded-1 navbar navbar-light bg-light">
        <ul class="nav">
            <li class="nav-item">
                <a aria-current="page" href="/" class="nav-link active">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/myprofile">My Profile</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/signup" th:if="!${username}">Sign Up</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/login" th:if="!${username}">Login</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/posts" th:if="${username}"> All posts</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/perform_logout" th:if="${username}">Log Out</a>
            </li>
        </ul>
    </nav>
    <h3>Add Post</h3>
    <form action="/post" method="post">
        <div class="mb-3">
            <label class="form-label">
                Post Body:
            </label>
            <textarea class="form-control" th:name="body" id="body"></textarea>
            <br>
            <input type="submit" value="Submit" class="btn btn-primary" />
    </form>

    <h2>All posts</h2>

    <!--    <div class="all_posts" th:each="post:${posts}">-->
    <div class="row">
        <div class="column_post" th:each="post : ${posts}">
<!--            <div th:if="${post.isPublic || post.applicationUser.username == username}" class="card">-->

                <p th:text="${post.body}"></p>
                <p th:text="${post.createdAt}"></p>
<!--            </div>-->
        </div>
    </div>
    <!--<h2 class="headers">All Posts</h2>-->
    <!--<div class="row" >-->
    <!--    <div class="column_ post" th:each = "post : ${posts}" >-->
    <!--        <div th:if="${post.isPublic || post.applicationUser.username == username}" class="card">-->
    <!--            <form  style="width= 100%" action="/post-update?_method=put" class="update_del" hidden  method="post">-->
    <!--                <h3 >Update Post</h3>-->
    <!--                <label>-->
    <!--                    Post Body:-->
    <!--                    <input type="text" th:name="body" th:value="${post.body}" required>-->
    <!--                </label>-->
    <!--                <br>-->
    <!--                <label>-->
    <!--                    Image Url:-->
    <!--                    <input type="text" th:name="imageUrl" th:value="${post.imageUrl}" required>-->
    <!--                </label>-->
    <!--                <label>-->
    <!--                    Is Public-->
    <!--                    <input type="checkbox" checked="checked" name="isPublic">-->
    <!--                </label>-->
    <!--                <br>-->
    <!--                <input th:value="${post.id}" type="text" th:name="id" hidden/>-->
    <!--                <p>-->
    <!--                    <input type="submit" value="Submit" class="button"/>-->
    <!--                </p>-->
    <!--            </form>-->

    <!--            <div hidden class="back_del">-->
    <!--                <input type="submit" value="Back to data"  onclick="toggle()" class="button" />-->
    <!--            </div>-->
    <!--            <div class="card_del">-->

    <!--                <img th:src="${post.imageUrl}"  style="width:100%" class="img"/>-->
    <!--                <h4>Post Body: </h4><p th:text="${post.body}"></p>-->
    <!--                <form th:if="${post.applicationUser.username} == ${username}" action="/delete_post?_method=delete"  method="post">-->
    <!--                    <input th:value="${post.id}" type="text" th:name="id" hidden/>-->
    <!--                    <input type="submit" value="Delete" class="button"/>-->
    <!--                </form>-->
    <!--                <a th:href ="'/users/'+${post.applicationUser.id}" th:text="${post.applicationUser.username}"></a>-->
    <!--                <input  th:if="${post.applicationUser.username} == ${username}" type="submit" value="Update Post" onclick="toggle()" class="button"/>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->

    <!--</div>-->

</body>

</html>